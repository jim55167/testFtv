(function (b) { var c = !1; if ("function" == typeof define && define.amd && (define(b), c = !0), "object" == typeof exports && (module.exports = b(), c = !0), !c) { var d = window.Cookies, e = window.Cookies = b(); e.noConflict = function () { return window.Cookies = d, e } } })(function () { function g() { for (var d = 0, f = {}; d < arguments.length; d++) { var a, g = arguments[d]; for (a in g) f[a] = g[a] } return f } function b(i) { function e(a, j, m) { var o; if ("undefined" != typeof document) { if (1 < arguments.length) { if (m = g({ path: "/" }, e.defaults, m), "number" == typeof m.expires) { var p = new Date; p.setMilliseconds(p.getMilliseconds() + 864E5 * m.expires), m.expires = p } m.expires = m.expires ? m.expires.toUTCString() : ""; try { o = JSON.stringify(j), /^[\{\[]/.test(o) && (j = o) } catch (a) { } for (var r in j = i.write ? i.write(j, a) : encodeURIComponent(j + "").replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g, decodeURIComponent), a = encodeURIComponent(a + ""), a = a.replace(/%(23|24|26|2B|5E|60|7C)/g, decodeURIComponent), a = a.replace(/[\(\)]/g, escape), o = "", m) m[r] && (o += "; " + r, !0 !== m[r] && (o += "=" + m[r])); return document.cookie = a + "=" + j + o } a || (o = {}), r = document.cookie ? document.cookie.split("; ") : []; for (var s = /(%[0-9A-Z]{2})+/g, h = 0; h < r.length; h++) { var t = r[h].split("="), q = t.slice(1).join("="); "\"" === q.charAt(0) && (q = q.slice(1, -1)); try { if (p = t[0].replace(s, decodeURIComponent), q = i.read ? i.read(q, p) : i(q, p) || q.replace(s, decodeURIComponent), this.json) try { q = JSON.parse(q) } catch (a) { } if (a === p) { o = q; break } a || (o[p] = q) } catch (a) { } } return o } } return e.set = e, e.get = function (a) { return e.call(e, a) }, e.getJSON = function () { return e.apply({ json: !0 }, [].slice.call(arguments)) }, e.defaults = {}, e.remove = function (a, b) { e(a, "", g(b, { expires: -1 })) }, e.withConverter = b, e } return b(function () { }) }), $(function () { $("body").append("<style> .Delete { cursor: pointer; position: absolute; right: 6px; top: 6px; width: 20px; height: 20px; transform: rotate(45deg); } .Delete:after { width: 2px; left: 50%; top: 0; bottom: 0; margin-left: -1px; } .Delete:before { height: 2px; top: 50%; right: 0; left: 0; margin-top: -1px; } .Delete:after, .Delete:before { background: rgb(255, 255, 255); content: \"\"; position: absolute; } </style><div id=\"Allow\" style=\"width: 88%;position: fixed;bottom: 0;background: rgba(10, 10, 10, 0.74);margin: auto;left: 0;right: 0;padding:20px 28px 20px;z-index:999999;\"><i id=\"close\" class=\"Delete\"></i><p style=\"text-align: left;line-height: 1.5;font-size: .95rem;color: #fff;text-shadow: 0 0 10px rgba(0,0,0,.8);\">\u6C11\u8996\u65B0\u805E\u7DB2\u4F7F\u7528 cookie \u6280\u8853\u70BA\u60A8\u63D0\u4F9B\u66F4\u597D\u7684\u7528\u6236\u9AD4\u9A57\u3002 \u901A\u904E\u4F7F\u7528\u6211\u5011\u7684\u5B98\u7DB2\uFF0C\u60A8\u78BA\u8A8D\u4E26\u540C\u610F\u6211\u5011\u7684 cookie \u653F\u7B56\u3002 \u66F4\u591A\u8A0A\u606F\uFF0C\u8ACB\u95B1\u8B80\u6C11\u8996\u65B0\u805E\u7DB2\u7684<a href=\"https://www.ftvnews.com.tw/privacy\" style=\"color: #00c2ff;\" target=\"_blank\">\u96B1\u79C1\u6B0A\u653F\u7B56</a></p></div>"), $("#close").click(function () { Cookies.set("Allow", "1", { domain: "ftvnews.com.tw", expires: 36135 }), $("#Allow").hide() }); Cookies.get("Allow"); Cookies.get("Allow") ? $("#Allow").hide() : $("#Allow").show() }), $(function () { var a = document.body.classList; window.addEventListener("scroll", function () { var b = this.scrollY; if (80 > b ? a.remove("hideNav") : a.add("hideNav"), 0 < $(".article-body").length) { var c = $(".article-body").offset().top, d = $(this).scrollTop(); d < c ? a.remove("sh-up") : a.add("sh-up") } }) }), $(document).ready(function () { $(".fitVids").fitVids() }), $(function () { $("<div class=\"overlay\"></div>").appendTo(".side-body"), null === $(".navbar-toggle").find(".collapsed") ? $(".navbar-toggle").click(function () { $(".side-menu-container").removeClass("slide-in"), $(".navbar").removeClass("body-slide-in"), $(".navbar-toggle").toggleClass("collapsed"), $(".overlay").removeClass("overlay-isvisible") }) : $(".navbar-toggle").click(function () { $(".side-menu-container").toggleClass("slide-in"), $(".navbar").toggleClass("body-slide-in"), $(".navbar-toggle").toggleClass("collapsed"), $(".overlay").toggleClass("overlay-isvisible") }), $(".overlay").on("mousedown touchstart", function () { $(".side-menu-container").removeClass("slide-in"), $(".navbar").removeClass("body-slide-in"), $(".navbar-toggle").addClass("collapsed"), $(".overlay").removeClass("overlay-isvisible") }) }), $(document).ready(function () { var a = $(".go-top, .scrollTop"); $(window).scroll(function () { $(this).scrollTop() > 300 ? a.addClass("cd-is-visible") : a.removeClass("cd-is-visible cd-fade-out"), $(this).scrollTop() > 1200 && a.addClass("cd-fade-out") }), a.on("click", function (a) { a.preventDefault(), $("body,html").animate({ scrollTop: 0 }, 700) }) }), $(function () { $(".nicescroll").niceScroll({ cursorcolor: "#fff", cursoropacitymin: .4, cursoropacitymax: 1, cursorwidth: "4px", cursordragontouch: !0, emulatetouch: !0 }) }), $(document).ready(function () { let a = /(iPad|iPhone|iPod)/ig.test(navigator.userAgent); a || $(".jscrollControl").niceScroll({ cursoropacitymin: 0, cursoropacitymax: .6, cursorwidth: "3px", cursorborder: "none", directionlockdeadzone: 100, railpadding: { top: 0, right: 0, left: 0, bottom: 2 }, bouncescroll: !0, cursordragontouch: !0, touchbehavior: !0 }); $(".jscrollControl ul li.selected").length && (a ? $(".jscrollControl").scrollLeft($(".jscrollControl ul li.selected").position().left - 40) : $(".jscrollControl").getNiceScroll(0).doScrollLeft($(".jscrollControl ul li.selected").position().left - 40, 0)) }), $(document).ready(function () { $(this).on("click", ".more-tags-btn", function () { $(this).parent().parent().addClass("show-tags-box"), console.log("click more") }); var a = $("a[data-type=facebook]"), b = $("a[data-type=twitter]"), c = $("a[data-type=line]"); $(a).click(function () { console.log($(this).data("title")), window.open("https://www.facebook.com/sharer/sharer.php?u=" + $(this).data("url"), $(this).data("title"), config = "height=500,width=500") }), $(b).click(function () { console.log($(this).data("title")), window.open("https://twitter.com/intent/tweet?text=" + $(this).data("title") + "-%20" + $(this).data("url"), $(this).data("title"), config = "height=500,width=500") }), $(c).click(function () { console.log($(this).data("title")), window.open("https://lineit.line.me/share/ui?url=" + $(this).data("url"), $(this).data("title"), config = "height=500,width=500") }) }), $(function () { var a = $("#dm-player"); if (0 !== a.length) { var b = $("#dm-player").data().key; dailymotion.createPlayer("dm-player", { video: b }).then(a => { a.on(dailymotion.events.PLAYER_START, () => { }) }).catch(a => console.error(a)) } $("#View_PornModal").each(function () { $("#modal-porn").fadeIn().addClass("show"), $("body").addClass("modal-open"), $("#porn-success").click(function (a) { a.preventDefault(), $(".modal").fadeOut().removeClass("show"), $(".modal-backdrop.show").css("display", "none"), $("body").removeClass("modal-open") }), $("#porn-fail").click(function (a) { a.preventDefault(), window.location.replace("/") }) }), $(".playLive").click(function () { const a = $(this).data("videoidst"), b = $(this).data("videotitlest"), c = $(this).data("videoplatformst"), d = $(this).data("ftvcdn"), e = $(this).data("videonewsid"), f = "" === e || null === e || e === void 0 ? `https://www.youtube.com/watch?v=${a}` : `/news/detail/${e}`; let g = ""; g = "" !== d && void 0 !== d ? `<iframe src="${`https://embed.ftvnews.com.tw/${e}`}" allowfullscreen='true' webkitallowfullscreen='true' mozallowfullscreen='true' height="100%" width="100%" style="border:none"></iframe>` : "DP" === c || "D" === c ? `<iframe frameborder="0" src="${`https://geo.dailymotion.com/player.html?video=${a}`}" allowfullscreen allow="autoplay;fullscreen; picture-in-picture;" height="100%" width="100%"></iframe>` : `<iframe src="${`https://www.youtube.com/embed/${a}`}" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>`; let h = document.createElement("a"); h.href = f, h.innerText = b, f.startsWith("https://www.youtube.com/watch?v=") && (h.target = "_blank"), $("#iframeCover").html(g), $("#iframeTitle").html(h) }), $("#video_view").on("hidden.bs.modal", function () { $("#iframeCover").empty() }), $(".anchorPoint").click(function (a) { a.preventDefault(); let b = $(this).attr("href"), c = $(b).offset().top - 90; $("html, body").animate({ scrollTop: c }, 500) }) }), $(function () { if (document.getElementById("word_cloud")) { let b = []; for (var a in db) b.push([db[a].keyword, db[a].freq, db[a].url]); wordCloudElement = WordCloud(document.getElementById("word_cloud"), { list: b, minFontSize: 1, color: function () { return ["#FF9C38", "#115A95", "#53A1E2", "#B39F8A", "#F47130"][Math.floor(5 * Math.random())] }, gridSize: 5, fontFamily: "Noto Sans TC", wait: 50, rotateRatio: 0, click: function (a) { a && (window.location.href = a[2]) } }) } }), $(function () { function a() { d ? (c(), document.getElementById("ai_content").innerHTML = "") : b(), d = !d } function b() { function a() { c < data.split("").length && e && (b.innerHTML += data[c++], setTimeout(a, 30)) } document.getElementById("mwt_border").style.display = "block", document.getElementById("modal-overlay").style.display = "block", document.body.classList.add("modal-open"), e = !0; const b = document.getElementById("ai_content"); let c = 0; a() } function c() { document.getElementById("mwt_border").style.display = "none", document.getElementById("modal-overlay").style.display = "none", document.body.classList.remove("modal-open"), e = !1 } let d = !1, e = !0; $("#modal-overlay").on("click", function (b) { b.target === this && a() }), $(".AI, .closeIcon").on("click", a) }); function handleClick(a) { setMenuSession("FTV-MenuList", a) } window.onload = function () { const a = location.pathname, b = a.match(/\/tag\/(.*?)\//); if (b && 1 < b.length) { let a = getMenuSession("FTV-MenuList"); if (a) { let b = document.getElementById(a); b && b.classList.add("active") } } else clearMenuSession("FTV-MenuList") }; function setMenuSession(a, b) { sessionStorage.setItem(a, JSON.stringify(b)) } function getMenuSession(a) { var b = sessionStorage.getItem(a); return b ? JSON.parse(b) : null } function clearMenuSession(a) { sessionStorage.removeItem(a) } $(window).on("scroll", function () { let a = $("#share-box"), b = $(window).scrollTop(); 950 < b ? a.addClass("show") : a.removeClass("show") });